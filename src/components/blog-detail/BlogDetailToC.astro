---
import type { MarkdownHeading } from 'astro';
import AsideLayout from '../../layouts/AsideLayout.astro';

type Props = {
  headings: MarkdownHeading[];
};

const { headings } = Astro.props;

const items = headings
  .filter((heading) => heading.depth >= 2 && heading.depth <= 4)
  .map((heading) => ({
    label: heading.text,
    ref: `#${heading.slug}`,
    depth: Math.max(0, heading.depth - 2),
  }));
---

<AsideLayout items={items} />
